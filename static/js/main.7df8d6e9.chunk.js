(this["webpackJsonpws-testing"]=this["webpackJsonpws-testing"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(7),a=n(40),i=n.n(a),o=(n(48),n(11)),r=n(12),d=n(14),h=n(13),l=(n(49),n(50),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(s.jsx)("nav",{children:Object(s.jsx)("p",{children:"WebSocket testing"})})}}]),n}(c.Component)),b=n(4),j=n(41),u=n(42),O=(n(86),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).stompClient=void 0,s.state={ws_endpoint_url:"",send_to:"",fetch_from:"",message:"",syntax_ok:!0,error_msg:"",message_list:[],connection_errors:!1,connected:!1},s.wsEndpointChange=s.wsEndpointChange.bind(Object(b.a)(s)),s.sendToChange=s.sendToChange.bind(Object(b.a)(s)),s.fetchFromChange=s.fetchFromChange.bind(Object(b.a)(s)),s.onConnect=s.onConnect.bind(Object(b.a)(s)),s.messageChange=s.messageChange.bind(Object(b.a)(s)),s.onSyntaxDetails=s.onSyntaxDetails.bind(Object(b.a)(s)),s.onSend=s.onSend.bind(Object(b.a)(s)),s.onMessageReceived=s.onMessageReceived.bind(Object(b.a)(s)),s.errorCallBack=s.errorCallBack.bind(Object(b.a)(s)),s.onDisonnect=s.onDisonnect.bind(Object(b.a)(s)),s}return Object(r.a)(n,[{key:"wsEndpointChange",value:function(e){this.setState({ws_endpoint_url:e.target.value})}},{key:"sendToChange",value:function(e){this.setState({send_to:e.target.value})}},{key:"fetchFromChange",value:function(e){this.setState({fetch_from:e.target.value})}},{key:"onConnect",value:function(e){var t=new u(this.state.ws_endpoint_url);this.stompClient=j.over(t);var n=this;n.stompClient.connect({},(function(e){n.stompClient.subscribe(n.state.fetch_from,(function(e){n.onMessageReceived(e)}))}),this.errorCallBack),this.setState({connection_errors:!1,connected:!0})}},{key:"onDisonnect",value:function(e){this.stompClient.connected&&(this.stompClient.disconnect(),this.setState({connected:!1}))}},{key:"onMessageReceived",value:function(e){var t=this.state.message_list;t.push(JSON.stringify(e)),this.setState({message_list:t}),console.log(this.state.message_list)}},{key:"errorCallBack",value:function(){this.setState({connection_errors:!0,connected:!1})}},{key:"messageChange",value:function(e){try{var t=document.getElementById("message-box").value,n=JSON.parse(t),s=JSON.stringify(n,void 0,4);document.getElementById("message-box").value=s,this.setState({syntax_ok:!0})}catch(c){this.setState({syntax_ok:!1,error_msg:c})}this.setState({message:e.target.value})}},{key:"onSyntaxDetails",value:function(e){alert('Following error message was thrown: "'.concat(this.state.error_msg,'"'))}},{key:"onSend",value:function(e){this.stompClient.send(this.state.send_to,{},this.state.message)}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"panel",children:[Object(s.jsxs)("div",{className:"app-status",children:[this.state.connected?Object(s.jsx)("p",{className:"connected-status",children:"CONNECTED"}):Object(s.jsx)("p",{className:"not-connected-status",children:"NOT CONNECTED"}),this.state.connection_errors?Object(s.jsx)("p",{className:"error-status",children:"ERROR"}):Object(s.jsx)("p",{className:"no-errors-status",children:"NO ERRORS"})]}),Object(s.jsxs)("div",{className:"connect-form",children:[Object(s.jsx)("input",{placeholder:"WS endpoint URL",onChange:this.wsEndpointChange}),Object(s.jsx)("input",{placeholder:"Send to",onChange:this.sendToChange}),Object(s.jsx)("input",{placeholder:"Fetch from",onChange:this.fetchFromChange}),Object(s.jsx)("button",{onClick:this.onConnect,disabled:this.state.connected,children:"Connect"}),Object(s.jsx)("button",{onClick:this.onDisonnect,disabled:!this.state.connected,children:"Disconnect"})]}),Object(s.jsxs)("div",{className:"send-form",children:[Object(s.jsx)("textarea",{id:"message-box",placeholder:"Message",onChange:this.messageChange}),Object(s.jsx)("button",{id:"check-syntax-btn",onClick:this.onSyntaxDetails,disabled:this.state.syntax_ok,children:this.state.syntax_ok?"Syntax OK":"Syntax Error (details)"}),Object(s.jsx)("button",{onClick:this.onSend,disabled:!this.state.syntax_ok,children:"Send"})]}),Object(s.jsx)("div",{className:"messages",children:Object(s.jsxs)("table",{children:[Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Headers:"}),Object(s.jsx)("th",{children:"Body:"})]})}),this.state.message_list.map((function(e){return Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:JSON.stringify(JSON.parse(e).headers)}),Object(s.jsx)("td",{children:JSON.parse(e).body})]})})}))]})})]})}}]),n}(c.Component)),g=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(l,{}),Object(s.jsx)(O,{})]})}}]),n}(c.Component),m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};i.a.render(Object(s.jsx)(g,{}),document.getElementById("root")),m()}},[[87,1,2]]]);
//# sourceMappingURL=main.7df8d6e9.chunk.js.map